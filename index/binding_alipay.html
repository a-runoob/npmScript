<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <title>绑定支付宝</title>
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>

<body>
    <div id="binding_alipay">
        <div class="top_msg">
        	为保证您的资金安全，建议绑定账户本人的支付宝账号
        </div>
        <div class="form_list">
        	<div class="form_item">
        		<span class="title">支付宝账号</span>
        		<input class="inputs" type="text" id="alipay" placeholder="请输入您的支付宝账号" />
        	</div>
        	<div class="form_item">
        		<span class="title">真实姓名</span>
        		<input class="inputs" type="text" id="name" placeholder="请输入该支付宝用户的真实姓名" />
        	</div>
        	<div class="form_item">
        		<span class="title">已认证手机</span>
        		<input class="inputs" type="text" maxlength="11" id="phone" onkeyup="this.value=this.value.replace(/\D/g,'')" placeholder="请输入认证手机号" />
        	</div>
        	<div class="form_item">
        		<span class="title">验 证 码</span>
        		<input class="input_code" type="text" id="code" placeholder="请输入验证码" />
        		<button class="get_code">获取验证码</button>
        	</div>
        </div>
        <div class="sub_btn">确认绑定</div>
    </div>
</body>
<script>
    //适配初始化设计稿尺寸为750
    document.documentElement.style.fontSize = document.documentElement.clientWidth / 750 * 100 + 'px';
    $(window).resize(function () {
        document.documentElement.style.fontSize = document.documentElement.clientWidth / 750 * 100 + 'px';
    })
    //手机号验证
    function isPoneAvailable(str) {
        var myreg=/^[1][3,4,5,7,8][0-9]{9}$/;
        if (!myreg.test(str)) {
            return false;
        } else {
            return true;
        }
    }
    //获取验证码
    $(".get_code").click(function(){
    	var that = $(this)
    	that.attr('disabled','disabled')
    	var phone_number = $("#phone").val();
    	if(isPoneAvailable(phone_number) && phone_number != ""){
    		var timeout = 60;
	    	var codetime = setInterval(function(){
	    		if(timeout == 0){
	    			that.text('获取验证码');
	    			that.removeAttr('disabled')
	    		}
	    		that.text('('+--timeout+'秒)可重发')
	    	},1000)
    	}else{
    		console.log("请输入正确的手机号");
    		that.removeAttr('disabled')
    	}
    })
    //自动热跟新
    document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] +
        ':35729/livereload.js?snipver=1"></' + 'script>');
</script>

</html>